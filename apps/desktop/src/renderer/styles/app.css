/* ============================================================
   Geist Font Family
   ============================================================ */
@font-face {
  font-family: "GeistSans";
  src: url("/fonts/Geist-Variable.woff2") format("woff2");
  font-weight: 100 900;
  font-display: swap;
}

@font-face {
  font-family: "GeistMono";
  src: url("/fonts/GeistMono-Variable.woff2") format("woff2");
  font-weight: 100 900;
  font-display: swap;
}

@font-face {
  font-family: "GeistPixelSquare";
  src: url("/fonts/GeistPixel-Square.woff2") format("woff2");
  font-display: swap;
}

@font-face {
  font-family: "GeistPixelGrid";
  src: url("/fonts/GeistPixel-Grid.woff2") format("woff2");
  font-display: swap;
}

/* ============================================================
   Theme: Hisui (Dark)
   ============================================================ */
[data-theme="hisui"] {
  color-scheme: dark;
  --bg-primary: #07070c;
  --bg-secondary: #0e0e15;
  --bg-nav: #0b0b12;
  --bg-panel: #0e0e15;
  --bg-card: #131320;
  --bg-input: #0a0a12;
  --bg-hover: #18182a;
  --bg-surface: #10101c;

  --text-primary: #e4e4ef;
  --text-secondary: #7a7a96;
  --text-muted: #4a4a62;

  --accent: #c084fc;
  --accent-hover: #d8b4fe;
  --accent-dim: #7c3aed;
  --accent-soft: rgba(192, 132, 252, 0.1);
  --accent-ghost-border: rgba(192, 132, 252, 0.25);

  --border: rgba(255, 255, 255, 0.06);
  --border-strong: rgba(255, 255, 255, 0.1);
  --border-nav: rgba(192, 132, 252, 0.08);

  --success: #34d399;
  --error: #f87171;
  --warning: #fbbf24;

  --body-bg: #07070c;
  --progress-gradient: linear-gradient(90deg, #7c3aed 0%, #c084fc 50%, #e9d5ff 100%);

  --shadow-sm: 0 1px 4px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 8px 32px rgba(0, 0, 0, 0.6);
  --shadow-glow: 0 0 40px rgba(124, 58, 237, 0.15);

  --focus-ring: #c084fc;
  --active-nav-bg: rgba(192, 132, 252, 0.12);
  --active-nav-border: rgba(192, 132, 252, 0.4);

  --chip-bg: rgba(192, 132, 252, 0.08);
  --chip-border: rgba(192, 132, 252, 0.2);

  --phase-awaiting: rgba(251, 191, 36, 0.12);
  --phase-running: rgba(192, 132, 252, 0.12);
  --phase-error: rgba(248, 113, 113, 0.12);
  --phase-ready: rgba(52, 211, 153, 0.12);

  --voice-1: #c084fc;
  --voice-2: #60a5fa;
  --voice-3: #34d399;
  --voice-4: #fbbf24;
  --voice-5: #f87171;
  --voice-6: #f472b6;

  --browse: #f0b866;
  --browse-hover: #f5cc8a;
  --browse-dim: #b8860b;
  --browse-soft: rgba(240, 184, 102, 0.1);
  --browse-border: rgba(240, 184, 102, 0.28);

  --noise-opacity: 0.025;
}

/* ============================================================
   Theme: Folio (Light)
   ============================================================ */
[data-theme="folio"] {
  color-scheme: light;
  --bg-primary: #f8f9fa;
  --bg-secondary: #ffffff;
  --bg-nav: #e9ecef;
  --bg-panel: #ffffff;
  --bg-card: #f1f3f5;
  --bg-input: #ffffff;
  --bg-hover: #e9ecef;
  --bg-surface: #f1f3f5;

  --text-primary: #212529;
  --text-secondary: #6c757d;
  --text-muted: #adb5bd;

  --accent: #0891b2;
  --accent-hover: #06b6d4;
  --accent-dim: #0e7490;
  --accent-soft: rgba(8, 145, 178, 0.08);
  --accent-ghost-border: rgba(8, 145, 178, 0.35);

  --border: #dee2e6;
  --border-strong: #ced4da;
  --border-nav: #dee2e6;

  --success: #14b8a6;
  --error: #dc2626;
  --warning: #d97706;

  --body-bg: #f8f9fa;
  --progress-gradient: linear-gradient(90deg, #0e7490 0%, #0891b2 50%, #06b6d4 100%);

  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-glow: none;

  --focus-ring: #0891b2;
  --active-nav-bg: rgba(8, 145, 178, 0.1);
  --active-nav-border: rgba(8, 145, 178, 0.5);

  --chip-bg: rgba(8, 145, 178, 0.08);
  --chip-border: rgba(8, 145, 178, 0.25);

  --phase-awaiting: rgba(217, 119, 6, 0.1);
  --phase-running: rgba(8, 145, 178, 0.1);
  --phase-error: rgba(220, 38, 38, 0.1);
  --phase-ready: rgba(20, 184, 166, 0.1);

  --voice-1: #0891b2;
  --voice-2: #6366f1;
  --voice-3: #14b8a6;
  --voice-4: #d97706;
  --voice-5: #dc2626;
  --voice-6: #db2777;

  --browse: #b8860b;
  --browse-hover: #9a7209;
  --browse-dim: #7a5c08;
  --browse-soft: rgba(184, 134, 11, 0.08);
  --browse-border: rgba(184, 134, 11, 0.25);

  --noise-opacity: 0;
}

/* ============================================================
   Reset and Base
   ============================================================ */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: var(--body-bg);
  color: var(--text-primary);
  font-family: "GeistSans", system-ui, -apple-system, sans-serif;
  font-size: 14px;
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
}

/* Optional subtle noise overlay for Hisui theme */
.layout-hisui body::before {
  content: "";
  position: fixed;
  inset: 0;
  opacity: var(--noise-opacity);
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
}

button,
input,
textarea,
select {
  font: inherit;
}

h1,
h2,
h3,
h4 {
  font-family: "GeistSans", system-ui, sans-serif;
  font-weight: 700;
  letter-spacing: -0.02em;
}

h1 {
  font-family: "GeistPixelSquare", "GeistSans", monospace;
}

/* ============================================================
   Animations
   ============================================================ */
@keyframes panelReveal {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes staggerReveal {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes modalIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toastIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes statusPulse {
  0%, 100% { box-shadow: 0 0 0 0 var(--accent-soft); }
  50% { box-shadow: 0 0 16px 0 var(--accent-soft); }
}

/* ============================================================
   Reduced Motion
   ============================================================ */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
